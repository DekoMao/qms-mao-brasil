{
  "version": "5",
  "dialect": "mysql",
  "id": "451a0715-8fc1-4096-9c0f-02a02debc4a7",
  "prevId": "2aed35dc-b0e4-474a-b3ae-12a85535e8ad",
  "tables": {
    "ai_suggestions": {
      "name": "ai_suggestions",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "defectId": {
          "name": "defectId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('ROOT_CAUSE','CORRECTIVE_ACTION','RECURRENCE_RISK')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "suggestion": {
          "name": "suggestion",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "confidence": {
          "name": "confidence",
          "type": "decimal(3,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "suggestedCategory": {
          "name": "suggestedCategory",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "accepted": {
          "name": "accepted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "acceptedBy": {
          "name": "acceptedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "acceptedAt": {
          "name": "acceptedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_ai_suggestions_defect": {
          "name": "idx_ai_suggestions_defect",
          "columns": [
            "defectId"
          ],
          "isUnique": false
        },
        "idx_ai_suggestions_type": {
          "name": "idx_ai_suggestions_type",
          "columns": [
            "type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "ai_suggestions_id": {
          "name": "ai_suggestions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "api_keys": {
      "name": "api_keys",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "tenantId": {
          "name": "tenantId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdBy": {
          "name": "createdBy",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "keyPrefix": {
          "name": "keyPrefix",
          "type": "varchar(8)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "keyHash": {
          "name": "keyHash",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "scopes": {
          "name": "scopes",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastUsedAt": {
          "name": "lastUsedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "revokedAt": {
          "name": "revokedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_apikey_tenant": {
          "name": "idx_apikey_tenant",
          "columns": [
            "tenantId"
          ],
          "isUnique": false
        },
        "idx_apikey_prefix": {
          "name": "idx_apikey_prefix",
          "columns": [
            "keyPrefix"
          ],
          "isUnique": false
        },
        "idx_apikey_hash": {
          "name": "idx_apikey_hash",
          "columns": [
            "keyHash"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "api_keys_id": {
          "name": "api_keys_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "attachments": {
      "name": "attachments",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "defectId": {
          "name": "defectId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fileName": {
          "name": "fileName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fileUrl": {
          "name": "fileUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fileKey": {
          "name": "fileKey",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "mimeType": {
          "name": "mimeType",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fileSize": {
          "name": "fileSize",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "uploadedBy": {
          "name": "uploadedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "uploadedByName": {
          "name": "uploadedByName",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "deletedAt": {
          "name": "deletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_attachments_defect_id": {
          "name": "idx_attachments_defect_id",
          "columns": [
            "defectId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "attachments_id": {
          "name": "attachments_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "audit_logs": {
      "name": "audit_logs",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "defectId": {
          "name": "defectId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "userName": {
          "name": "userName",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "action": {
          "name": "action",
          "type": "enum('CREATE','UPDATE','DELETE','ADVANCE_STEP','RESTORE','RBAC_SEED','RBAC_SET_PERMISSIONS','RBAC_ASSIGN_ROLE','RBAC_REMOVE_ROLE','WORKFLOW_CREATE','WORKFLOW_NEW_VERSION','WORKFLOW_CREATE_INSTANCE','WORKFLOW_ADVANCE','TENANT_CREATE','TENANT_ADD_USER','TENANT_REMOVE_USER','WEBHOOK_CREATE','WEBHOOK_DELETE','WEBHOOK_TEST','DOCUMENT_CREATE','DOCUMENT_STATUS_CHANGE','DOCUMENT_ADD_VERSION','DOCUMENT_DELETE','TENANT_SWITCH')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fieldName": {
          "name": "fieldName",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "oldValue": {
          "name": "oldValue",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "newValue": {
          "name": "newValue",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_audit_logs_defect_id": {
          "name": "idx_audit_logs_defect_id",
          "columns": [
            "defectId"
          ],
          "isUnique": false
        },
        "idx_audit_logs_timestamp": {
          "name": "idx_audit_logs_timestamp",
          "columns": [
            "timestamp"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "audit_logs_id": {
          "name": "audit_logs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "comments": {
      "name": "comments",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "defectId": {
          "name": "defectId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "userName": {
          "name": "userName",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "deletedAt": {
          "name": "deletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_comments_defect_id": {
          "name": "idx_comments_defect_id",
          "columns": [
            "defectId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "comments_id": {
          "name": "comments_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "cost_defaults": {
      "name": "cost_defaults",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "costType": {
          "name": "costType",
          "type": "enum('SCRAP','REWORK','REINSPECTION','DOWNTIME','WARRANTY','RETURN','RECALL','COMPLAINT','INSPECTION','TESTING','AUDIT','TRAINING','PLANNING','QUALIFICATION','OTHER')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "costCategory": {
          "name": "costCategory",
          "type": "enum('INTERNAL_FAILURE','EXTERNAL_FAILURE','APPRAISAL','PREVENTION')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "defaultAmount": {
          "name": "defaultAmount",
          "type": "decimal(12,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "unitType": {
          "name": "unitType",
          "type": "enum('PER_UNIT','PER_HOUR','PER_INCIDENT','FIXED')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'PER_INCIDENT'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "cost_defaults_id": {
          "name": "cost_defaults_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "defect_costs": {
      "name": "defect_costs",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "defectId": {
          "name": "defectId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "costType": {
          "name": "costType",
          "type": "enum('SCRAP','REWORK','REINSPECTION','DOWNTIME','WARRANTY','RETURN','RECALL','COMPLAINT','INSPECTION','TESTING','AUDIT','TRAINING','PLANNING','QUALIFICATION','OTHER')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "costCategory": {
          "name": "costCategory",
          "type": "enum('INTERNAL_FAILURE','EXTERNAL_FAILURE','APPRAISAL','PREVENTION')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "decimal(12,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'BRL'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "evidenceUrl": {
          "name": "evidenceUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdBy": {
          "name": "createdBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "deletedAt": {
          "name": "deletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_defect_costs_defectId": {
          "name": "idx_defect_costs_defectId",
          "columns": [
            "defectId"
          ],
          "isUnique": false
        },
        "idx_defect_costs_category": {
          "name": "idx_defect_costs_category",
          "columns": [
            "costCategory"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "defect_costs_id": {
          "name": "defect_costs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "defects": {
      "name": "defects",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "docNumber": {
          "name": "docNumber",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "openDate": {
          "name": "openDate",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "year": {
          "name": "year",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "weekKey": {
          "name": "weekKey",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "monthName": {
          "name": "monthName",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "mg": {
          "name": "mg",
          "type": "enum('S','A','B','C')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "defectsSeverity": {
          "name": "defectsSeverity",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "customer": {
          "name": "customer",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pn": {
          "name": "pn",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "material": {
          "name": "material",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "symptom": {
          "name": "symptom",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "detection": {
          "name": "detection",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rate": {
          "name": "rate",
          "type": "decimal(10,4)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "qty": {
          "name": "qty",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "evidence": {
          "name": "evidence",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cause": {
          "name": "cause",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "correctiveActions": {
          "name": "correctiveActions",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "trackingProgress": {
          "name": "trackingProgress",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "supplierId": {
          "name": "supplierId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "supplier": {
          "name": "supplier",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "supplyFeedback": {
          "name": "supplyFeedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "statusSupplyFB": {
          "name": "statusSupplyFB",
          "type": "enum('On Time','Late Replay','DELAYED','ONGOING')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "owner": {
          "name": "owner",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "targetDate": {
          "name": "targetDate",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "checkSolution": {
          "name": "checkSolution",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "qcrNumber": {
          "name": "qcrNumber",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "occurrence": {
          "name": "occurrence",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "dateDisposition": {
          "name": "dateDisposition",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "dateTechAnalysis": {
          "name": "dateTechAnalysis",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "dateRootCause": {
          "name": "dateRootCause",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "dateCorrectiveAction": {
          "name": "dateCorrectiveAction",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "dateValidation": {
          "name": "dateValidation",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "step": {
          "name": "step",
          "type": "enum('Aguardando Disposição','Aguardando Análise Técnica','Aguardando Causa Raiz','Aguardando Ação Corretiva','Aguardando Validação de Ação Corretiva','CLOSED')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'Aguardando Disposição'"
        },
        "status": {
          "name": "status",
          "type": "enum('CLOSED','ONGOING','DELAYED','Waiting for CHK Solution')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'ONGOING'"
        },
        "closeWeekKey": {
          "name": "closeWeekKey",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tenantId": {
          "name": "tenantId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "deletedAt": {
          "name": "deletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "createdBy": {
          "name": "createdBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "updatedBy": {
          "name": "updatedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_defects_supplier": {
          "name": "idx_defects_supplier",
          "columns": [
            "supplier"
          ],
          "isUnique": false
        },
        "idx_defects_supplier_id": {
          "name": "idx_defects_supplier_id",
          "columns": [
            "supplierId"
          ],
          "isUnique": false
        },
        "idx_defects_status": {
          "name": "idx_defects_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_defects_step": {
          "name": "idx_defects_step",
          "columns": [
            "step"
          ],
          "isUnique": false
        },
        "idx_defects_open_date": {
          "name": "idx_defects_open_date",
          "columns": [
            "openDate"
          ],
          "isUnique": false
        },
        "idx_defects_year": {
          "name": "idx_defects_year",
          "columns": [
            "year"
          ],
          "isUnique": false
        },
        "idx_defects_week_key": {
          "name": "idx_defects_week_key",
          "columns": [
            "weekKey"
          ],
          "isUnique": false
        },
        "idx_defects_doc_number": {
          "name": "idx_defects_doc_number",
          "columns": [
            "docNumber"
          ],
          "isUnique": false
        },
        "idx_defects_deleted_at": {
          "name": "idx_defects_deleted_at",
          "columns": [
            "deletedAt"
          ],
          "isUnique": false
        },
        "idx_defects_tenant_id": {
          "name": "idx_defects_tenant_id",
          "columns": [
            "tenantId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "defects_id": {
          "name": "defects_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "defects_docNumber_unique": {
          "name": "defects_docNumber_unique",
          "columns": [
            "docNumber"
          ]
        }
      },
      "checkConstraint": {}
    },
    "document_versions": {
      "name": "document_versions",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "documentId": {
          "name": "documentId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "version": {
          "name": "version",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fileUrl": {
          "name": "fileUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fileSize": {
          "name": "fileSize",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "mimeType": {
          "name": "mimeType",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "changeDescription": {
          "name": "changeDescription",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "uploadedBy": {
          "name": "uploadedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_dv_document": {
          "name": "idx_dv_document",
          "columns": [
            "documentId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "document_versions_id": {
          "name": "document_versions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "documents": {
      "name": "documents",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "tenantId": {
          "name": "tenantId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "documentNumber": {
          "name": "documentNumber",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "enum('PROCEDURE','WORK_INSTRUCTION','FORM','TEMPLATE','SPECIFICATION','REPORT','CERTIFICATE','OTHER')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currentVersion": {
          "name": "currentVersion",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "enum('DRAFT','IN_REVIEW','APPROVED','OBSOLETE')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'DRAFT'"
        },
        "ownerId": {
          "name": "ownerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "approvedBy": {
          "name": "approvedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "approvedAt": {
          "name": "approvedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tags": {
          "name": "tags",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "deletedAt": {
          "name": "deletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_doc_tenant": {
          "name": "idx_doc_tenant",
          "columns": [
            "tenantId"
          ],
          "isUnique": false
        },
        "idx_doc_status": {
          "name": "idx_doc_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_doc_number": {
          "name": "idx_doc_number",
          "columns": [
            "documentNumber"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "documents_id": {
          "name": "documents_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "import_logs": {
      "name": "import_logs",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "fileName": {
          "name": "fileName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "totalRows": {
          "name": "totalRows",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "successRows": {
          "name": "successRows",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "errorRows": {
          "name": "errorRows",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "errors": {
          "name": "errors",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "importedBy": {
          "name": "importedBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "importedByName": {
          "name": "importedByName",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "import_logs_id": {
          "name": "import_logs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "notification_recipients": {
      "name": "notification_recipients",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notificationType": {
          "name": "notificationType",
          "type": "enum('SLA_WARNING','SLA_EXCEEDED','STEP_CHANGE','SUPPLIER_UPDATE','ALL')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "notification_recipients_id": {
          "name": "notification_recipients_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "notifications": {
      "name": "notifications",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "defectId": {
          "name": "defectId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('SLA_WARNING','SLA_EXCEEDED','STEP_CHANGE','SUPPLIER_UPDATE')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "recipientEmail": {
          "name": "recipientEmail",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "recipientName": {
          "name": "recipientName",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "subject": {
          "name": "subject",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('PENDING','SENT','FAILED','READ','DELETED')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'PENDING'"
        },
        "sentAt": {
          "name": "sentAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_notifications_defect_id": {
          "name": "idx_notifications_defect_id",
          "columns": [
            "defectId"
          ],
          "isUnique": false
        },
        "idx_notifications_status": {
          "name": "idx_notifications_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "notifications_id": {
          "name": "notifications_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "permissions": {
      "name": "permissions",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "resource": {
          "name": "resource",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "action": {
          "name": "action",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "permissions_id": {
          "name": "permissions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "role_permissions": {
      "name": "role_permissions",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "roleId": {
          "name": "roleId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "permissionId": {
          "name": "permissionId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_rp_role": {
          "name": "idx_rp_role",
          "columns": [
            "roleId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "role_permissions_id": {
          "name": "role_permissions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "roles": {
      "name": "roles",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isSystem": {
          "name": "isSystem",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "deletedAt": {
          "name": "deletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "roles_id": {
          "name": "roles_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "roles_name_unique": {
          "name": "roles_name_unique",
          "columns": [
            "name"
          ]
        }
      },
      "checkConstraint": {}
    },
    "root_cause_categories": {
      "name": "root_cause_categories",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "parentId": {
          "name": "parentId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "root_cause_categories_id": {
          "name": "root_cause_categories_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "root_cause_categories_name_unique": {
          "name": "root_cause_categories_name_unique",
          "columns": [
            "name"
          ]
        }
      },
      "checkConstraint": {}
    },
    "sla_configs": {
      "name": "sla_configs",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "step": {
          "name": "step",
          "type": "enum('Aguardando Disposição','Aguardando Análise Técnica','Aguardando Causa Raiz','Aguardando Ação Corretiva','Aguardando Validação de Ação Corretiva')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "severityMg": {
          "name": "severityMg",
          "type": "enum('S','A','B','C')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "maxDays": {
          "name": "maxDays",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 7
        },
        "warningDays": {
          "name": "warningDays",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 5
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_sla_configs_step": {
          "name": "idx_sla_configs_step",
          "columns": [
            "step"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "sla_configs_id": {
          "name": "sla_configs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "supplier_score_configs": {
      "name": "supplier_score_configs",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "metricKey": {
          "name": "metricKey",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "metricName": {
          "name": "metricName",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "weight": {
          "name": "weight",
          "type": "decimal(5,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'1.00'"
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "supplier_score_configs_id": {
          "name": "supplier_score_configs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "supplier_score_configs_metricKey_unique": {
          "name": "supplier_score_configs_metricKey_unique",
          "columns": [
            "metricKey"
          ]
        }
      },
      "checkConstraint": {}
    },
    "supplier_score_history": {
      "name": "supplier_score_history",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "supplierId": {
          "name": "supplierId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "periodKey": {
          "name": "periodKey",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "overallScore": {
          "name": "overallScore",
          "type": "decimal(5,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "grade": {
          "name": "grade",
          "type": "enum('A','B','C','D')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "metrics": {
          "name": "metrics",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "calculatedAt": {
          "name": "calculatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_score_supplier": {
          "name": "idx_score_supplier",
          "columns": [
            "supplierId"
          ],
          "isUnique": false
        },
        "idx_score_period": {
          "name": "idx_score_period",
          "columns": [
            "periodKey"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "supplier_score_history_id": {
          "name": "supplier_score_history_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "suppliers": {
      "name": "suppliers",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "code": {
          "name": "code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "contactName": {
          "name": "contactName",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "accessCode": {
          "name": "accessCode",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "deletedAt": {
          "name": "deletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_suppliers_access_code": {
          "name": "idx_suppliers_access_code",
          "columns": [
            "accessCode"
          ],
          "isUnique": false
        },
        "idx_suppliers_name": {
          "name": "idx_suppliers_name",
          "columns": [
            "name"
          ],
          "isUnique": false
        },
        "idx_suppliers_is_active": {
          "name": "idx_suppliers_is_active",
          "columns": [
            "isActive"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "suppliers_id": {
          "name": "suppliers_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "suppliers_name_unique": {
          "name": "suppliers_name_unique",
          "columns": [
            "name"
          ]
        }
      },
      "checkConstraint": {}
    },
    "tenant_users": {
      "name": "tenant_users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "tenantId": {
          "name": "tenantId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'user'"
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        }
      },
      "indexes": {
        "idx_tu_tenant": {
          "name": "idx_tu_tenant",
          "columns": [
            "tenantId"
          ],
          "isUnique": false
        },
        "idx_tu_user": {
          "name": "idx_tu_user",
          "columns": [
            "userId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "tenant_users_id": {
          "name": "tenant_users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "tenants": {
      "name": "tenants",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "plan": {
          "name": "plan",
          "type": "enum('FREE','STARTER','PROFESSIONAL','ENTERPRISE')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'FREE'"
        },
        "maxUsers": {
          "name": "maxUsers",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 10
        },
        "maxDefects": {
          "name": "maxDefects",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 500
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "settings": {
          "name": "settings",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "deletedAt": {
          "name": "deletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "tenants_id": {
          "name": "tenants_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "tenants_slug_unique": {
          "name": "tenants_slug_unique",
          "columns": [
            "slug"
          ]
        }
      },
      "checkConstraint": {}
    },
    "user_roles": {
      "name": "user_roles",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "roleId": {
          "name": "roleId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_ur_user": {
          "name": "idx_ur_user",
          "columns": [
            "userId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "user_roles_id": {
          "name": "user_roles_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('user','admin','sqa','supplier','viewer')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "activeTenantId": {
          "name": "activeTenantId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "columns": [
            "openId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "webhook_configs": {
      "name": "webhook_configs",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "tenantId": {
          "name": "tenantId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "secret": {
          "name": "secret",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "events": {
          "name": "events",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "headers": {
          "name": "headers",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "retryPolicy": {
          "name": "retryPolicy",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "failCount": {
          "name": "failCount",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "deletedAt": {
          "name": "deletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "webhook_configs_id": {
          "name": "webhook_configs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "webhook_logs": {
      "name": "webhook_logs",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "configId": {
          "name": "configId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "event": {
          "name": "event",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payload": {
          "name": "payload",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "responseStatus": {
          "name": "responseStatus",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "responseBody": {
          "name": "responseBody",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "attempts": {
          "name": "attempts",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "enum('PENDING','SUCCESS','FAILED','RETRYING')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'PENDING'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_whl_config": {
          "name": "idx_whl_config",
          "columns": [
            "configId"
          ],
          "isUnique": false
        },
        "idx_whl_status": {
          "name": "idx_whl_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "webhook_logs_id": {
          "name": "webhook_logs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "workflow_definitions": {
      "name": "workflow_definitions",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "version": {
          "name": "version",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "isDefault": {
          "name": "isDefault",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "steps": {
          "name": "steps",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "transitions": {
          "name": "transitions",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdBy": {
          "name": "createdBy",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "deletedAt": {
          "name": "deletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "workflow_definitions_id": {
          "name": "workflow_definitions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "workflow_instances": {
      "name": "workflow_instances",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "definitionId": {
          "name": "definitionId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "defectId": {
          "name": "defectId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currentStepId": {
          "name": "currentStepId",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "stepHistory": {
          "name": "stepHistory",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('ACTIVE','COMPLETED','CANCELLED','ON_HOLD')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'ACTIVE'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_wf_instance_defect": {
          "name": "idx_wf_instance_defect",
          "columns": [
            "defectId"
          ],
          "isUnique": false
        },
        "idx_wf_instance_definition": {
          "name": "idx_wf_instance_definition",
          "columns": [
            "definitionId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "workflow_instances_id": {
          "name": "workflow_instances_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}